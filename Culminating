/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package culminating;
import java.util.Scanner;
import java.io.*;
/**
 *
 * @author Duncan 957353
 */
public class Culminating {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        // TODO code application logic here
        double average = 0;
        String highest = "ee";
        String lowest = "ee";
        double high = 1;
        double low = 999999999;
        double balance;
        double start;
        double purchase;
        double payment;
        String i;
        String fileName = "ledger.dat";
        int amount = 0;
        String j = "BA";
        double interest = 0.28 / 12 + 1; 
        try {
            Scanner fh = new Scanner(new File("C:\\Users\\957353\\Documents\\NetBeansProjects\\Culminating\\src\\culminating\\ledger.dat"));
        do {
            i = fh.next();
            if (i.toLowerCase().compareTo(j.toLowerCase()) > 0) break;
            System.out.print(i + "         ");
            amount = amount + 1;
            start = fh.nextDouble();
            purchase = fh.nextDouble();
            payment = fh.nextDouble();
            balance = interest * start - payment + purchase;
            System.out.printf("%6.2f\n", balance);
            System.out.print("");
            if (low > balance) {
                low = balance;
                lowest = i;
            }
            if (high < balance) { 
                high = balance;
                highest = i;
            }
            average = average + balance;
        } while (i != j);
        fh.close();
        System.out.printf("highest final balance: " + highest + "          %6.2f\n", high);
        System.out.printf("Lowest final balance:  " + lowest + "          %6.2f\n", low);
        System.out.printf("average balance: %.2f\n", average / amount);
        } catch (Exception e) {
        System.out.println(e.getMessage());
        }
    } 
}
